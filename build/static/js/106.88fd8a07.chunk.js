"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[106],{61733:function(e,t,n){n.r(t);var a=n(4942),r=n(15671),i=n(43144),s=n(60136),o=n(27277),l=n(72791),c=n(55294),d=n(56355),h=n(11087),x=n(78983),u=(n(8477),n(18513)),g=n(18512),p=(n(66338),n(80184)),f=function(e){(0,s.Z)(n,e);var t=(0,o.Z)(n);function n(){var e;(0,r.Z)(this,n);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(e=t.call.apply(t,[this].concat(s))).state={breakdowns:[],selectedLocation:"",searchLocation:"",message:"",searchQuery:"",isHovered:!1,startDate:"",endDate:"",loading:!0},e.handleMouseEnter=function(){e.setState({isHovered:!0})},e.handleMouseLeave=function(){e.setState({isHovered:!1})},e.handleSearchChange=function(t){var n=t.target.value.toLowerCase(),a=e.state.breakdowns.filter((function(t){var a=(t.Location||"").toLowerCase(),r=!e.state.startDate||t.BreakdownStartDate&&t.BreakdownStartDate>=e.state.startDate,i=!e.state.endDate||t.BreakdownStartDate&&t.BreakdownStartDate<=e.state.endDate;return a.includes(n)&&r&&i}));e.setState({filteredAssets:a,searchQuery:n})},e.handleLocationChange=function(t){e.setState({selectedLocation:t.target.value})},e.handleDateChange=function(t,n){e.setState((0,a.Z)({},t,n))},e}return(0,i.Z)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.selectedLocation;t&&"https://backendmaintenx.onrender.com/getBreakdownData?location=".concat(t);c.Z.get("https://backendmaintenx.onrender.com/api/breakdown").then((function(t){e.setState({breakdowns:Array.isArray(t.data)?t.data:[t.data],loading:!1})})).catch((function(t){console.error("Error fetching data:",t),alert("Error fetching data"),e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.breakdowns,a=t.filteredAssets,r=(t.searchLocation,t.searchQuery,t.loading),i=n.filter((function(e){return"open"===e.Status})),s=n.filter((function(e){return e.Location&&""!==e.Location.trim()})),o=this.state.isHovered;return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("label",{htmlFor:"startDate",style:{marginLeft:"rem",marginRight:"0.2rem",fontSize:"16px",fontWeight:"bold",whiteSpace:"nowrap","@media (max-width: 650px)":{fontSize:"14px"}},children:["From Date:"," "]}),(0,p.jsx)("input",{type:"date",id:"startDate",value:this.state.startDate,onChange:function(t){return e.handleDateChange("startDate",t.target.value)},style:{padding:"6px",borderRadius:"5px",border:"1px solid #ccc",marginRight:"10px",marginLeft:"40px",fontSize:"14px"}}),(0,p.jsxs)("label",{htmlFor:"endDate",style:{marginRight:"30px",fontSize:"16px",fontWeight:"bold",whiteSpace:"nowrap"},children:["To Date:"," "]}),(0,p.jsx)("input",{type:"date",id:"endDate",value:this.state.endDate,onChange:function(t){return e.handleDateChange("endDate",t.target.value)},style:{padding:"6px",borderRadius:"5px",border:"1px solid #ccc",marginRight:"10px",fontSize:"14px",marginBottom:"0.5rem"}})]}),(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("label",{htmlFor:"searchTask",style:{marginLeft:"0%"},children:(0,p.jsx)("span",{role:"img","aria-label":"search-icon"})}),(0,p.jsxs)("select",{value:this.searchQuery,onChange:this.handleSearchChange,style:{display:"flex",marginBottom:"10px",padding:"8px",border:"1px solid",borderRadius:"4px",transition:"border-color 0.3s ease-in-out",backgroundColor:o?"#f0f0f0":"transparent"},onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[(0,p.jsx)("option",{children:"Search by Plant "}),(0,p.jsx)("option",{value:"Plant 1",children:"Plant 1"}),(0,p.jsx)("option",{value:"Plant 2",children:"Plant 2"}),(0,p.jsx)("option",{value:"Plant 3",children:"Plant 3"})]}),(0,p.jsx)("div",{className:"table-container",children:(0,p.jsxs)(g.iA,{className:"custom-table",children:[(0,p.jsx)(g.hr,{style:{backgroundColor:"#000026",color:"white"},children:(0,p.jsxs)(g.Tr,{children:[(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white",height:"40px"},children:"Machine Name"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"BreakDown Start Date"}),(0,p.jsx)(g.Td,{}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Shift"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Location"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Line Name"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Operations"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Status"}),(0,p.jsx)(g.Th,{style:{textAlign:"center",color:"white"},children:"Edit"})]})}),(0,p.jsx)(g.p3,{children:r?(0,p.jsx)("tr",{children:(0,p.jsxs)("td",{colSpan:"8",style:{textAlign:"center"},children:[(0,p.jsx)("img",{src:u,alt:"Loading..."}),(0,p.jsx)("p",{children:"Loading..."})]})}):(0,p.jsxs)(p.Fragment,{children:[this.state.message&&(0,p.jsx)(g.Tr,{children:(0,p.jsx)(x.NN,{colSpan:"8",style:{textAlign:"center"},children:this.state.message})}),(this.state.searchQuery?a.filter((function(e){return i.includes(e)})):s.filter((function(e){return i.includes(e)}))).map((function(e){return(0,p.jsxs)(g.Tr,{children:[(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.MachineName}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:new Date(e.BreakdownStartDate).toISOString().split("T")[0]}),(0,p.jsx)(g.Td,{}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.Shift}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.Location}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.LineName}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.Operations}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:e.Status}),(0,p.jsx)(g.Td,{style:{textAlign:"center"},children:(0,p.jsx)(h.OL,{to:"/productionBD/".concat(e._id),style:{color:"#000080"},children:(0,p.jsx)(d.fmQ,{})})})]},e._id)}))]})})]})})]})]})}}]),n}(l.Component);t.default=f},8477:function(){},18513:function(e,t,n){e.exports=n.p+"static/media/loader.0b2c6b0bc99fc6df75e4.gif"}}]);
//# sourceMappingURL=106.88fd8a07.chunk.js.map