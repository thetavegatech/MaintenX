"use strict";(self.webpackChunk_coreui_coreui_free_react_admin_template=self.webpackChunk_coreui_coreui_free_react_admin_template||[]).push([[319],{544:function(e,t,r){r.r(t);var n=r(29439),a=r(72791),s=r(55294),i=r(57689),c=r(11087),o=r(78983),d=r(16856),l=r(56355),h=(r(8477),r(18512)),u=(r(66338),r(80184));t.default=function(){var e=(0,a.useState)([]),t=(0,n.Z)(e,2),r=t[0],x=t[1],j=(0,a.useState)([]),m=(0,n.Z)(j,2),f=m[0],p=m[1],T=(0,a.useState)(""),g=(0,n.Z)(T,2),b=g[0],y=g[1],_=(0,a.useState)(""),v=(0,n.Z)(_,2),C=v[0],k=v[1],L=(0,a.useState)(!0),S=(0,n.Z)(L,2),w=S[0],A=S[1],N=(0,a.useState)(!1),Z=(0,n.Z)(N,2);Z[0],Z[1],(0,i.s0)();(0,a.useEffect)((function(){s.Z.get("https://backendmaintenx.onrender.com/api/assets").then((function(e){var t=Array.isArray(e.data)?e.data:[e.data];x(t),p(t),A(!1)})).catch((function(e){console.error("Error fetching data:",e),alert("Error fetching data"),A(!1)}))}),[]);return(0,u.jsxs)("div",{className:"container",children:[(0,u.jsx)(c.OL,{to:"/assetForm",children:(0,u.jsx)(o.u5,{className:"mb-2",style:{marginTop:"5px",margin:"10px",backgroundColor:"#000026"},children:"Add New"})}),(0,u.jsx)("label",{htmlFor:"searchTask",style:{marginLeft:"60%"},children:(0,u.jsx)("span",{role:"img","aria-label":"search-icon"})}),(0,u.jsx)("input",{placeholder:"Search by Asset/Location",style:{marginBottom:"10px",padding:"8px",border:"1px solid ",borderRadius:"4px",transition:"border-color 0.3s ease-in-out, background-color 0.3s ease-in-out"},value:b,onChange:function(e){var t=e.target.value.toLowerCase(),n=r.filter((function(e){var r=(e.Location||"").toLowerCase(),n=(e.AssetName||"").toLowerCase();return r.includes(t)||n.includes(t)}));p(n),y(t)}}),(0,u.jsx)("div",{className:"table-container",children:(0,u.jsxs)(h.iA,{className:"custom-table",children:[(0,u.jsx)(h.hr,{children:(0,u.jsxs)(h.Tr,{children:[(0,u.jsx)(h.Th,{children:"Sr No"}),(0,u.jsx)(h.Th,{children:"Machine Name"}),(0,u.jsx)(h.Th,{children:"Machine Type"}),(0,u.jsx)(h.Th,{children:"Location"}),(0,u.jsx)(h.Th,{children:"QR Code"}),(0,u.jsx)(h.Th,{children:"Edit"}),(0,u.jsx)(h.Th,{children:"Delete"})]})}),(0,u.jsx)(h.p3,{children:w?(0,u.jsx)(h.Tr,{children:(0,u.jsx)(h.Td,{colSpan:"8",style:{textAlign:"center"},children:(0,u.jsx)("p",{children:"Loading..."})})}):(0,u.jsxs)(u.Fragment,{children:[C&&(0,u.jsx)(h.Tr,{children:(0,u.jsx)(h.Td,{colSpan:"8",style:{textAlign:"center",fontStyle:"italic",color:"red"},children:C})}),f.map((function(e,t){return(0,u.jsxs)(h.Tr,{children:[(0,u.jsx)(h.Td,{children:t+1}),(0,u.jsx)(h.Td,{children:e.AssetName}),(0,u.jsx)(h.Td,{children:e.MachineType}),(0,u.jsx)(h.Td,{children:e.Location}),(0,u.jsx)(h.Td,{children:e.qrCode&&(0,u.jsx)("img",{src:e.qrCode,alt:"QR Code",width:50,height:50})}),(0,u.jsx)(h.Td,{children:(0,u.jsx)(c.OL,{to:"/editasset/".concat(e._id),style:{color:"#000080"},children:(0,u.jsx)(l.fmQ,{})})}),(0,u.jsx)(h.Td,{children:(0,u.jsx)("button",{className:"btn",onClick:function(){return t=e._id,void(window.confirm("Are you sure you want to delete this data?")&&s.Z.delete("https://backendmaintenx.onrender.com/api/assets/".concat(t)).then((function(){var e=r.filter((function(e){return e._id!==t}));x(e),p(e),k("Data successfully deleted!"),setTimeout((function(){k("")}),2e3)})).catch((function(e){console.error("Error deleting data:",e),k("Error deleting data. Please try again."),setTimeout((function(){k("")}),2e3)})));var t},style:{color:"red"},children:(0,u.jsx)(d.ZkW,{})})})]},e._id)}))]})})]})})]})}},8477:function(){}}]);
//# sourceMappingURL=319.ec3b37ba.chunk.js.map